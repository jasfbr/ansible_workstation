---

- name: Verifica se o arquivo existe
  ansible.builtin.stat:
    path: '{{app.warsaw.download_path}}/{{app.warsaw.file}}'
  register: file_status

- name: Baixa o arquivo
  ansible.builtin.get_url:
    url: '{{app.warsaw.uri}}/{{app.warsaw.file}}'
    dest: '{{app.warsaw.download_path}}/{{app.warsaw.file}}'
    decompress: false
    owner: '{{user.login}}'
    group: '{{user.group}}'
    mode: '0644'
  when: not file_status.stat.exists

- name: Instala o Warsaw
  ansible.builtin.apt: 
    deb: '{{app.warsaw.download_path}}/{{app.warsaw.file}}'
  become: true

...